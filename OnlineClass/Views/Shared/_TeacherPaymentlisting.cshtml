@*@model IEnumerable<Datalayer.BusinessLogic.StudentRegistration>*@



<div>
    @foreach (var item in ViewBag.teacherMain)//ViewBag.teacherMain
    {
        int i = 1;
        <div class="chapter_acrdin">
            <div class="panel-group" id="accordion">
                <div class="panel panel-default">
                    <div class="panel-heading">
                        <h4 class="panel-title">
                            <a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#title_@item.Teacherid">@item.TeacherName  <h5><span>(for Month @item.Month  and Year @item.Year)</span></h5></a>
                        </h4>
                    </div>
                    <div id="title_@item.Teacherid" class="panel-collapse collapse">
                        @{
                            decimal total = 0;
                            var prev = "";
                            long pteacher = item.Teacherid;
                            decimal amt = 0;

                            foreach (var tem2 in item.TeacherDetail)
                            {
                                var newval = tem2.SubjectBatch;
                                //pteacher = tem2.teacherid;
                                //while (tem2.teacherid == pteacher)
                                //{
                                    <div class="panel-body">
                                        <div class="panel-group" id="accordion">
                                            <table class="table table-striped">
                                                @if (prev != newval)
                                                {
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">Subject/Batch</th>
                                                            <th scope="col">Duration</th>
                                                            <th scope="col">Total Class</th>
                                                            <th scope="col">Total Time</th>
                                                            <th scope="col">Total Amount</th>
                                                        </tr>
                                                    </thead>
                                                }
                                                <tbody>
                                                 @if (@tem2.Name != "")
                                                 {
                                                    <tr>
                                                        <td style="width:215px">@tem2.SubjectBatch (@tem2.Name)</td>
                                                        <td>@tem2.Duration</td>
                                                        <td>@tem2.Total_No_Classes</td>
                                                        <td>@tem2.Total_No_hours (in Hrs) : @tem2.Total_no_Mins (in Mins)</td>
                                                        <td>@tem2.Amt_To_Pay</td>

                                                    </tr>
                                                 }
                                                    @*amt = @tem2.Amt_To_Pay;
                                                    total = Convert.ToDecimal(total) + amt;*@
                                            @if (@tem2.Name == "" )
                                            {
                                                //amt = @tem2.Amt_To_Pay;
                                                //total = Convert.ToDecimal(total) + amt;
                                               <tr><td><h5><b>Total Remunaration To Pay to teach @tem2.SubjectBatch (Total Class :@tem2.Total_No_Classes) : @tem2.Amt_To_Pay</b></h5></td></tr>
                                            }
                                            @*else if(prev == newval && amt == total)
                                            {

                                                amt = @tem2.Amt_To_Pay;
                                                total = Convert.ToDecimal(total) + amt;
                                                <tr><td><h5><b>Total Amount To Pay to teach @tem2.SubjectBatch : @total</b></h5></td></tr>
                                            }*@

                                                    
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                i++;
                                prev = newval;
                                //    break;
                                //}


                            }

                        }

                    </div>
                </div>
              
            </div>
        </div>
    }
</div>




@*<div class="panel">
        <a data-toggle="collapse" href="#title1-@i@tem2.teacherid">
            Duration:@tem2.Duration ; Subject/Batch: @tem2.SubjectBatch ;Total Class:@tem2.Total_No_Classes <br />
            Total Hrs:@tem2.Total_No_hours ; Total In Min : @tem2.Total_no_Mins ;<br />
            <h4>Total Amount To Pay to teach @tem2.SubjectBatch : @tem2.Amt_To_Pay</h4>
        </a>
    </div>*@

@*<div id="title1-@i@tem2.teacherid" class="panel-collapse collapse">
    @foreach (var item3 in @tem2.TeacherDetail)
    {
        <div class="panel-body">


            <div class="panel-group" id="accordion">
                <div class="panel">
                    <a data-toggle="collapse" href="#Chepter-@i@item3.SubjectBatch">@item3.SubjectBatch</a>
                    <a class="pull-right" href="@Url.Action("Edit", "Chapter", new {@Chapterid=@item3.Chapter_id})">*@
@*<i class="fa fa-pencil" aria-hidden="true"> Edit</i>
                        </a>
                    </div>

                    <div id="Chepter-@i@item3.Chapter_id" class="panel-collapse collapse">
                        <div class="panel-body">
                            @Html.Raw(item3.Syllubus)
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>*@
